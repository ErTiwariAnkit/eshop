{% extends 'base.html' %}


{% block content %}
{% load cart %}
{% load custom_filter %}
<div class="card bg-info text-white col-lg-9 mx-auto">
    <div class="card-header col-lg-5 mx-auto"><h1>PROFILE PAGE</h1></div>
    <div class="card-body">
        <h5 class="card-title">Name:{{customer.first_name}}</h5>
        <p class="card-text">Email:{{customer.email}}</p>
        <p class="card-text">Phone:{{customer.phone}}</p>
        <p class="card-text">Address:{{customer.address}}</p>
        <button onclick="myFunction()">Your Orders</button>

        <div id="myDIV" STYLE="display:none">
            <hr>
            <table class="table">
                <thead>
                <tr>
                    <th>Sno.</th>
                    <th>Order id</th>
                    <th>Image</th>
                    <th>Product</th>
                    <th>Date</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>

                {% for order in orders %}
                <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{order.id}}</td>
                    <td><img style="height: 80px;" class="rounded-circle" src="{{order.product.image.url}}" alt=""></td>
                    <td>{{order.product.name}}</td>
                    <td>{{order.date}}</td>
                    <td>{{order.price|currency}}</td>
                    <td>{{order.quantity}}</td>
                    <td>{{order.quantity|multiply:order.price|currency}}</td>
                    {% if order.status %}
                    <td><small class="badge badge-success">Completed</small></td>
                    {%else%}
                    <td><small class="badge badge-warning">Pending</small></td>
                    {% endif %}
                </tr>

                {% endfor %}

                </tbody>

            </table>
        </div>
        <script>
        function myFunction() {
            var x = document.getElementById("myDIV");
            if (x.style.display === "none") {
              x.style.display = "block";
            } else {
              x.style.display = "none";
              
            }
          }

        </script>
    </div>
</div>

{%endblock%}